import { useState } from "react";
/*
    - ì›ë˜ ë³€ìˆ˜ì— ê°’ ì €ì¥í•˜ê³  {ë³€ìˆ˜ëª…}í•´ì„œ ë°ì´í„° ë°”ì¸ë”© í–ˆëŠ”ë°
      ì´ë²ˆì—ëŠ” ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ stateë¼ëŠ” react ë¬¸ë²•ì„ ì‚¬ìš©í•œë‹¤.

      ë°ì´í„°ë¥¼ (1) ë³€ìˆ˜ì— ë³´ê´€í•˜ëŠëƒ (2) stateì— ë³´ê´€í•˜ëŠëƒ í•˜ëŠ” 2ê°€ì§€ ë°©ë²•ì´ ì¡´ì¬í•˜ëŠ” ê²ƒ.

      ë³€ìˆ˜ë‘ ë˜‘ê°™ì€ë° ë°©ë²•ì´ ì¡°ê¸ˆ ë‹¤ë¦„.

      ë§¨ ìœ„ì— import React, {useState} from 'react'; ë¼ê³  ì¨ì¤Œ.
      ì˜ë¯¸ëŠ” 'ë¦¬ì•¡íŠ¸ì— ìˆëŠ” ë‚´ì¥ í•¨ìˆ˜ í•˜ë‚˜ë¥¼ ì“°ê² ìŠµë‹ˆë‹¤' ë¼ëŠ” ëœ».

      ì €ê±° ì¨ì£¼ë©´ ì´ì œ useStateë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
      ì‚¬ìš©ë²• : useState(ë°ì´í„°)

      ex) useState("ë‚¨ì ì½”íŠ¸ ì¶”ì²œ");
      ì´ë ‡ê²Œ ì‹¤í–‰ í•´ì£¼ë©´ array 2ê°œê°€ ë‚¨ëŠ”ë‹¤. [a, b]
      a : ì•ì—ì„œ ë„£ì–´ì¤€ ë°ì´í„°. ì—¬ê¸°ì—ì„œëŠ” ë‚¨ì ì½”íŠ¸ ì¶”ì²œì´ë¼ëŠ” Stringì´ ë“¤ì–´ê°ˆ ê²ƒ.
      b : ì•ì—ì„œ ë„£ì–´ì¤€ ë°ì´í„°(state)ë¥¼ ì •ì •í•´ì£¼ëŠ” í•¨ìˆ˜
      
      let [a,b] = useState("ë‚¨ì ì½”íŠ¸ ì¶”ì²œ");   ES6 destucturing ë¬¸ë²•
      javascript ES6 ì‹ ë¬¸ë²•ì¸ë° 
      let [a,b] = [10, 100]; ì´ë ‡ê²Œ í•˜ë©´ aì—ëŠ” 10, bì—ëŠ” 100ì´ ë“¤ì–´ê°„ë‹¤.
      
      ì •ë¦¬í•˜ë©´ stateëŠ”
      (1) ë³€ìˆ˜ ëŒ€ì‹  ì“°ëŠ” ë°ì´í„° ì €ì¥ê³µê°„
      (2) useState()ë¥¼ ì´ìš©í•´ ë§Œë“¤ì–´ì•¼ í•¨
      (3) ë¬¸ì, ìˆ«ì, array, object ë‹¤ ì €ì¥ ê°€ëŠ¥
          ex) let [ê¸€ì œëª©, ê¸€ì œëª©ë³€ê²½] = useState(['ë‚¨ì ì½”íŠ¸ ì¶”ì²œ', 'ê°•ë‚¨ ìš°ë™ ë§›ì§‘']);

	  - ê·¸ëƒ¥ ë³€ìˆ˜ ì“°ë©´ ë˜ì§€ ì™œ êµ³ì´ stateë¥¼ ì“°ëŠëƒ?
		stateë§Œì˜ ì¥ì ì´ ìˆëŠ”ë°
		ì›¹ì´ Appì²˜ëŸ¼ ë™ì‘í•˜ê²Œ ë§Œë“œë ¤ë©´ stateë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

		stateëŠ” ë³€ê²½ ë˜ë©´
		HTMLì´ ìë™ìœ¼ë¡œ ì¬ë Œë”ë§ì´ ëœë‹¤.

		ê·¸ëƒ¥ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í–ˆëŠ”ë° ë°ì´í„°ê°€ ë³€ê²½ ëœë‹¤ -> ìë™ ì¬ë Œë”ë§ì´ ì•ˆë˜ê³  ìƒˆë¡œê³ ì¹¨ ë¼ì„œ í˜ì´ì§€ë¥¼ ë‹¤ì‹œ ë„ìš´ë‹¤.
		stateë¥¼ ì‚¬ìš©í–ˆëŠ”ë° ë°ì´í„°ê°€ ë³€ê²½ ëœë‹¤ -> ìƒˆë¡œê³ ì¹¨ ì—†ì´ ìë™ìœ¼ë¡œ ì¬ë Œë”ë§ì´ ëœë‹¤. = HTMLì´ ìƒˆë¡œê³ ì¹¨ ì—†ì´ë„ ìŠ¤ë¬´ìŠ¤í•˜ê²Œ ë³€ê²½ëœë‹¤.

		ê·¸ëƒ¥ ë‹¤ stateë¡œ ë§Œë“¤ì–´ì„œ ì¨ë„ ë˜ëŠ”ë° ì›¹ì•±ì´ë‘ì€ ë³„ë¡œ ìƒê´€ ì—†ëŠ”. 
		ìˆ˜ì‹œë¡œ ë°”ë€Œê³  í•  ì¼ ì—†ëŠ” ê·¸ëŸ° ê²ƒë“¤ì€ ê·¸ëƒ¥ ì¼ë°˜ ë³€ìˆ˜ë‚˜ í•˜ë“œ ì½”íŒ…í•´ë„ ìƒê´€ ì—†ë‹¤.

		ìì£¼ ë°”ë€ŒëŠ”. í˜¹ì€ ì¤‘ìš”í•œ ë°ì´í„°ëŠ” ë³€ìˆ˜ ë§ê³  stateë¡œ ì €ì¥í•´ì„œ ì“°ì

	- state ë³€ê²½í•  ë•Œ 
		  íŠ¹íˆ stateê°€ Array, Object ìë£Œí˜•ì´ë©´ ìˆ˜ì •ëœ ë°ì´í„°ë¥¼ ë§Œë“ ë‹¤.
		  ë¦¬ì•¡íŠ¸ì ì¸ ê´€ìŠµ.

		  ë‹¹ì—°íˆ ì–•ì€ ë³µì‚¬ëŠ” ì•ˆë˜ê³  ê¹Šì€ ë³µì‚¬ë¡œ í•´ì•¼í•œë‹¤.
							ì´ê±´ javascript ê°œë… ê·¸ëŒ€ë¡œ ìƒê°í•˜ë©´ ë  ë“¯.

		  ë‹¨, ES6ì—ì„œ ê¹Šì€ ë³µì‚¬ëŠ” ì´ë ‡ê²Œ ê°€ëŠ¥í•˜ë‹¤

		  ex) let newArr = [...ê¸€ì œëª©];
		  ex) let newObj = {...ê¸€ì œëª©};

		  spreadOperatorë¼ëŠ” ì‹ ë¬¸ë²•ì„.
		  
		  ê¸€ì œëª©ì´ë¼ëŠ” ì• ì˜ []ë“  {}ë“  ë‹¤ ì œê±°í•˜ê³  ë‹¤ì‹œ ë‹´ëŠ” ê²©

		  ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ë°ì´í„°ê°€ ì´ëŸ° ì‹ìœ¼ë¡œ ë‹¤ë¤„ì§„ë‹¤

		  state ë°ì´í„°ëŠ” immutable í•´ì•¼í•œë‹¤. ì§ì ‘ ìˆ˜ì • ë¼ì„  ì•ˆëœë‹¤ê³  ê¶Œì¥ë¨.

		  ê²°ë¡ . Array, Object state ë°ì´í„° ìˆ˜ì • ë°©ë²•
		  (1) ì¼ë‹¨ ë³€ê²½í•¨ìˆ˜ ì¨ì•¼í•¨
		  (2) ë³€ê²½í•¨ìˆ˜(ëŒ€ì²´í•  ë°ì´í„°)
				  (2-1) ëŒ€ì²´í•  ë°ì´í„°ëŠ”  ì´ˆê¸° ê°’ê³¼ ìœ ì‚¬í•œ ìë£Œí˜•ì„ ì‚¬ìš©.
					Array -> Array, Object -> Object
										  /// ìˆ«ìí˜•ì—ì„œ ë¬¸ìí˜•ì€ ë˜ëŠ”ê±° ê°™ë˜ë°....
		  (3) ì¼ë‹¨ ê¸°ì¡´ state ì¹´í”¼ë³¸ ë§Œë“¤ê³  -> ì¹´í”¼ë³¸ì— ìˆ˜ì •ì‚¬í•­ ë°˜ì˜í•˜ê³  -> ë³€ê²½í•¨ìˆ˜()ì— ì§‘ì–´ë„£ê¸°


	- Hookì€ React 16.8ë²„ì „ ë¶€í„° ì‚¬ìš© ê°€ëŠ¥

	- componentê°€ ê°€ì§€ê³  ìˆëŠ” ì†ì„± ê°’

	- stateê°€ ë³€í•˜ë©´ UIë¥¼ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ì‹œì¼œì¤Œ
		ê°œë°œìëŠ” stateë§Œ ì˜ ê´€ë¦¬í•˜ë©´ í™”ë©´ì„ ë‹¤ì‹œ ê·¸ë ¤ì£¼ëŠ” ì‘ì—…ì€ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ë˜ëŠ” í¸ë¦¬í•¨ì´ ìˆìŒ

	-ì»´í¬ë„ŒíŠ¸ ê°™ì€ê±¸ ì—¬ëŸ¬ë²ˆ ë¶™ì´ê³  setStateë¥¼ ë™ì‘ ì‹œì¼œë„ ê°™ì€ ì»´í¬ë„ŒíŠ¸ ì „ì²´ë¥¼ ë³€í™” ì‹œí‚¤ëŠ”ê²Œ ì•„ë‹ˆë¼ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë§Œ ë™ì‘ì‹œí‚´
*/

export default function HookUseState(){
    let [ê¸€ì œëª©, ê¸€ì œëª©ë³€ê²½] = useState(["ë‚¨ì ì½”íŠ¸ ì¶”ì²œ", "ê°•ë‚¨ ìš°ë™ ë§›ì§‘", "íŒŒì´ì¬ë…í•™"]);
    let [ë”°ë´‰, ë”°ë´‰ë³€ê²½] = useState(0);

    function ì œëª©ë°”ê¾¸ê¸°(){
        // ê¸€ì œëª©ì´ ë°°ì—´ì´ë¯€ë¡œ ë°°ì—´ë¡œ ë³€ê²½ë˜ì–´ì•¼ í•¨
        let newArr = [...ê¸€ì œëª©];

        if(newArr[0] === 'ë‚¨ì ì½”íŠ¸ ì¶”ì²œ'){
        newArr[0] = 'ì—¬ì ì½”íŠ¸ ì¶”ì²œ';
        }else{
        newArr[0] = 'ë‚¨ì ì½”íŠ¸ ì¶”ì²œ';
        }

        ê¸€ì œëª©ë³€ê²½(newArr);
    }

    function ìˆœì„œë°”ê¾¸ê¸°(){
        let newArr2 = [...ê¸€ì œëª©];

        newArr2.sort((a, b) => {
            return a < b ? -1 : a > b ? 1 : 0;
        });

        ê¸€ì œëª©ë³€ê²½(newArr2);
    }

    const [sysDate, setSysDate] = useState(new Date);           
    const dateStr : string = sysDate+"";

    function refreshDate(){
        setTimeout(function(){
            setSysDate(new Date);
        }, 1000);
        //setSysDate(new Date);
    }

    refreshDate();


    return (
        <div>
            <div className="black-nav">
                <h1>useState Example 1</h1>
                <div>ê°œë°œ Blog</div>
            </div>
            <button onClick={ ì œëª©ë°”ê¾¸ê¸° }>ì œëª©ë°”ê¾¸ê¸°</button>   {/* onClickì•ˆì— ì œëª©ë°”ê¾¸ê¸°() í•˜ë©´ ë°”ë¡œ ì‹¤í–‰ë¼ì„œ ë¬´í•œ ì¬ëœë”ë§ë¨  */}
            <button onClick={ ìˆœì„œë°”ê¾¸ê¸° }>ìˆœì„œë°”ê¾¸ê¸°</button>
            <div className="list">
                <h3>{ ê¸€ì œëª©[0] } <span onClick={ () => { ë”°ë´‰ë³€ê²½(ë”°ë´‰ + 1) } }>ğŸ‘</span> {ë”°ë´‰} </h3>
                <p>2ì›” 17ì¼ ë°œí–‰</p>
                <hr/>
            </div>
            <div className="list">
                <h3>{ ê¸€ì œëª©[1] }</h3>
                <p>2ì›” 18ì¼ ë°œí–‰</p>
                <hr/>
            </div>
            <div className="list">
                <h3>{ ê¸€ì œëª©[2] }</h3>
                <p>2ì›” 19ì¼ ë°œí–‰</p>
                <hr/>
            </div>

            <h1>useState Example 2</h1>
            <div>{dateStr}</div>
            {/* <button onClick={refreshDate}>Refresh</button> */}
        </div>
    );
}